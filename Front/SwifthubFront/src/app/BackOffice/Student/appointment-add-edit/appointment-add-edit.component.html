<div mat-dialog-title>
    <h1>appointment Form</h1>
</div>

<form [formGroup]="empForm" (ngSubmit)="onFormSubmit()">
<div mat-dialog-content class="content">
    <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <input matInput type="text" formControlName="description">
        </mat-form-field> 
        
        
    </div>
    <div class="row">
      
    </div>
    <div class="row">
        <mat-radio-group aria-label="Select an option" formControlName="priority">
            <mat-label><b>Priority</b></mat-label>
            <mat-radio-button value="High">High</mat-radio-button>
            <mat-radio-button value="medium">medium</mat-radio-button>
            <mat-radio-button value="low">low</mat-radio-button>
        </mat-radio-group>
    </div>
    <!--
    <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>member</mat-label>
            <mat-select formControlName="member">
                <mat-option *ngFor="let val of respansable" [value]="val">
                    {{val}}
                </mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    -->
    <div class="row">
        <mat-form-field appearance="outline">
            <mat-label>Appointment Type</mat-label>
            <mat-select formControlName="appointmentType">
                <mat-option *ngFor="let val of appointmentType" [value]="val">
                    {{val}}
                </mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    
    <div class="row">
        <mat-form-field appearance="outline">
          <mat-label>Professors List</mat-label>
          <mat-select formControlName="professorId" (selectionChange)="loadProfessorTimes($event.value.id)">
            <mat-option *ngFor="let val of ProfessorsList" [value]="val">
              {{ val.username }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="row" *ngIf="AvailabilityList.length > 0">
        <mat-form-field appearance="outline">
            <mat-label>Available Times</mat-label>
            <mat-select formControlName="selectedTimeSlot">
                <ng-container *ngFor="let slot of AvailabilityList">
                    <ng-container *ngFor="let time of slot.availableTimeSlots">
                        <ng-container *ngIf="!time.reserved">
                        <mat-option [value]="time">
                            {{ time.startTime }} - {{ time.endTime }}
                        </mat-option>
                        </ng-container>
                    </ng-container>
                </ng-container>
            </mat-select>
        </mat-form-field>
    </div>
    
    
    <div class="row">
        <mat-checkbox formControlName="reminder">Reminder</mat-checkbox>
    </div>
</div>

<div mat-dialog-actions class="action">
    <button mat-raised-button type="button" mat-dialog-close="false">Cancel</button>
    <button mat-raised-button color="primary" type="submit">{{data ? 'update' :'save'}}</button> 
</div>
</form>